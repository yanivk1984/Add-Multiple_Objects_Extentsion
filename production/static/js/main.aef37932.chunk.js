(this.webpackJsonpshow_rule_statistics=this.webpackJsonpshow_rule_statistics||[]).push([[0],{113:function(e,t,n){e.exports=n(219)},118:function(e,t,n){},137:function(e,t){},139:function(e,t){},171:function(e,t){},172:function(e,t){},219:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(18),o=n.n(s),c=(n(118),n(23)),i=n(61),l=n(36),u=n(6),p=n.n(u),d=n(20),h=n(9),m=n(10),b=n(12),f=n(11),g=n(13),j=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"#E65684",height:"50px",alignItems:"center",border:"black solid 1px",marginBottom:"10px",fontFamily:"Sans-Serif"}},r.a.createElement("h3",{style:{marginLeft:"10px"}},"Check Point Object Adder"))}}]),t}(r.a.Component),O=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){n.props.handleCellChange(n.props.state.id,e.target.name,e.target.value)},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.index),r.a.createElement("td",null,r.a.createElement("input",{value:this.props.state.name,name:"name",onChange:this.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{value:this.props.state.ip,name:"ip",onChange:this.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{value:this.props.state.comment,name:"comment",onChange:this.handleChange})),r.a.createElement("td",{onClick:function(){return e.props.deleteObject(e.props.state.name)}},r.a.createElement("button",{className:"btn btn-danger"},"Delete")))}}]),t}(r.a.Component),v=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).style={display:"inline",width:"60%"},n.validateIp=function(){if(!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(n.props.state.ip.trim()))return alert("This is not valid ip-address"),"";n.props.addObject()},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{style:this.style,className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Object Name"),r.a.createElement("th",null,"IP Address"),r.a.createElement("th",null,"Comment"),r.a.createElement("th",null,r.a.createElement("button",{onClick:this.props.resetTable,className:"btn btn-info"},"Reset")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"#"),r.a.createElement("td",null,r.a.createElement("input",{value:this.props.state.name,name:"name",onChange:this.props.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{value:this.props.state.ip,name:"ip",onChange:this.props.handleChange})),r.a.createElement("td",null,r.a.createElement("input",{value:this.props.state.comment,name:"comment",onChange:this.props.handleChange})),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.validateIp,onChange:this.handleChange,className:"btn btn-primary"},"Add"))),this.props.state.objects.map((function(t,n){return r.a.createElement(O,{key:n,index:n,state:t,handleCellChange:e.props.handleCellChange,deleteObject:e.props.deleteObject})}))))}}]),t}(r.a.Component),E=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"btn-group m-2"},console.log(this.props.selected),r.a.createElement("button",{type:"button",onClick:this.props.submitGroup,className:"btn btn-success"},this.props.selected),r.a.createElement("button",{type:"button",onClick:this.props.showGroups,className:"btn btn-success dropdown-toggle dropdown-toggle-split","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("span",{className:"sr-only"})),r.a.createElement("div",{className:"dropdown-menu"},this.props.groups.map((function(t){return r.a.createElement("h5",{key:t,onClick:function(){return e.props.changeDropdownValue(t)},className:"dropdown-item"},t)}))))}}]),t}(r.a.Component),C=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(f.a)(t).call(this,e))).container={border:"solid black 1px",marginLeft:"40px",display:"inline",padding:"20px",position:"absolute"},n.buttonStyle={marginLeft:"10px",backgroundColor:"green",border:"none",display:"inline"},n.general={position:"relative",display:"inline"},n.input={display:"inline",height:"30px",padding:"0px !important",marginLeft:"10px",marginBottom:"0px"},n.firstBtn={display:"block"},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:this.container},r.a.createElement("button",{style:Object(c.a)({},this.buttonStyle,{},this.firstBtn),className:"btn btn-primary",onClick:this.props.submit},"Submit"),r.a.createElement("div",{style:this.general},r.a.createElement(E,{submitGroup:this.props.submitGroup,groups:this.props.groups,selected:this.props.selected,showGroups:this.props.showGroups,changeDropdownValue:this.props.changeDropdownValue})))}}]),t}(r.a.Component),w=n(62),y=n(109),k=n.n(y);function x(e){return S.apply(this,arguments)}function S(){return(S=Object(d.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new k.a,e.prev=1,e.next=4,n.requestCommit(t).then();case 4:return a=e.sent,console.log("-> obj",JSON.stringify(a)),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var N=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(f.a)(t).call(this,e))).getGroups=function(){Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("get groups started"),!(n.state.dropdown.groups.length>0)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,x(["show groups limit 500 offset 0 --format json"]).then((function(e){var t=[];n.alerts("Fetched ".concat(e.length," Groups"),"danger");try{t=e[0].objects.map((function(e){return e.name})),n.alerts("Fetched ".concat(e.length," Groups"))}catch(a){n.alerts("No Object Fetched (API Error)","danger"),t=[]}n.setState({dropdown:{groups:t}})}));case 5:case"end":return e.stop()}}),e)})))()},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.resetTable=function(){n.setState({objects:[]})},n.handleCellChange=function(e,t,a){var r=n.state.objects.map((function(n){return n.id===e&&(n[t]=a),n}));n.setState(r)},n.checkIfNameExists=function(e){for(var t="1",a=e,r=0;r<n.state.objects.length;r++)n.state.objects[r].name===a&&(parseInt(t),a=e+"_"+(++t).toString(),r=0);return a},n.checkIfIpExists=function(e){for(var t=e,a=0;a<n.state.objects.length;a++)if(n.state.objects[a].ip===t){var r=parseInt(t.match(/\d+$/).toString());r++,t=e.replace(/\d+$/,r.toString()),a=0}return t},n.addObject=function(){var e=n.checkIfNameExists(n.state.name.trim()),t=n.checkIfIpExists(n.state.ip.trim()),a=n.state.comment;if(e&&t){var r=Object(i.a)(n.state.objects),s=n.state.id+1;n.setState({id:s}),r.push({id:s,name:e,ip:t,comment:a}),n.setState({objects:r})}},n.deleteObject=function(e){var t=Object(i.a)(n.state.objects);t=t.filter((function(t){return t.name!==e})),n.setState({objects:t})},n.parseObjects=function(){return n.state.objects.map((function(e){var t=Object(c.a)({},e),n=t.name,a=t.ip,r=t.comment;return"add host name ".concat(n," ip-address ").concat(a,' comments "').concat(r,'" --format json')}))},n.parseObjectsGroup=function(){return n.state.objects.map((function(e){var t=Object(c.a)({},e),a=t.name,r=t.ip,s=t.comment;return"add host name ".concat(a," ip-address ").concat(r,' comments "').concat(s,'" groups.1 "').concat(n.state.dropdown.selected,'" --format json')}))},n.alerts=function(e,t){Object(w.b)({message:e,type:t,duration:2e4})},n.submitGroup=function(){Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.dropdown.selected.includes("Submit To Group")){e.next=3;break}return n.alerts("Please choose a group first","warning"),e.abrupt("return");case 3:return t=n.parseObjectsGroup(),e.next=6,n.setState({parsedObjects:t});case 6:n.invokeChanges();case 7:case"end":return e.stop()}}),e)})))()},n.submit=function(){Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.parseObjects(),e.next=3,n.setState({parsedObjects:t});case 3:n.invokeChanges();case 4:case"end":return e.stop()}}),e)})))()},n.changeDropdownValue=function(e){var t=Object(c.a)({},n.state.dropdown);t.selected=e,n.setState({dropdown:t})},n.invokeChanges=function(){Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n.state.parsedObjects).then((function(e){var t=e=JSON.stringify(e);t.includes("code")&&t.includes("message")||t.includes("error")||t.includes("fail")||t.includes("err")||t.includes("reject")||t.includes("denied")?n.alerts(e,"danger"):n.alerts("Success","success")}));case 2:case"end":return e.stop()}}),e)})))()},n.state={name:"",ip:"",comment:"",id:0,parsedObjects:[],objects:[],dropdown:{groups:[],selected:"Submit To Group"}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w.a,null),r.a.createElement(j,null),r.a.createElement(v,{state:this.state,addObject:this.addObject,deleteObject:this.deleteObject,handleCellChange:this.handleCellChange,handleChange:this.handleChange,resetTable:this.resetTable}),r.a.createElement(C,{submit:this.submit,submitGroup:this.submitGroup,groupName:this.state.groupName,handleChange:this.handleChange,groups:this.state.dropdown.groups,selected:this.state.dropdown.selected,showGroups:this.getGroups,changeDropdownValue:this.changeDropdownValue}))}}]),t}(r.a.Component);n(214),n(215),n(216),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(37),I=n(110),T={position:G.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:G.c.SCALE};o.a.render(r.a.createElement((function(){return r.a.createElement(G.a,Object.assign({template:I.a},T),r.a.createElement(N,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.aef37932.chunk.js.map